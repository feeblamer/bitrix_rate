## Курс валют. Приложение для bitrix24

Выводит курсы валют согласно дате взяты с cbr.ru 
Валюты:

- RUB-EUR

- RUB-USD

- RUB-KZT

- RUB-PLN


## Выбор технологий  

### Веб сервер 

Для веб сервера используется flask с uwsgi интерфейсом. В качестве HTTP сервера используется nginx. Для создания ssl сертификата использован сервис letsencrypt и приложение  certbot.

Приложение развернуто на удаленом сервере с как сервис systemd.

### Парсер

Для получения курсов валютя исползуется скрипт pasrser.py. Для парсинга html используется библиотека lxml. Для отправки запросов на сайт cbr.ru используется библиотека requests.

## Как работает приложение

Скрипт забирает данные с сайта cbr.ru.
Данные сохраняются в файл currency.json.

Если файла нет скрипт делает запрос на cbr.ru. Полученные данные отправляются на bitrix24  и записываются в файл

Если файл существует, проверяется поле 'date' сurrency.json с текущей датой. Если наступил следующий день, то cкрипт повторяет запрос на cbr.ru полученные данные обрабатываются и отправляются на bitrix24.

Если текущая дата совпадает с полем 'date', то скрипт отправляет в bitrix24 данные из currency.json 


